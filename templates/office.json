{
    "type": "Twig",
    "pre": [
        "<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.0 Transitional//EN\">",
        "<html>",
        "<head>",
        "  <meta http-equiv=\"content-type\" content=\"text/html; charset=utf-8\"/>",
        "  <title></title>",
        "  <meta name=\"generator\" content=\"Radkummerkasten-tools\"/>",
        "  <meta name=\"created\" content=\"{{ 'now'|date('c') }}\"/>",
        "  <meta name=\"changed\" content=\"{{ 'now'|date('c') }}\"/>",
        "  <style type=\"text/css\">",
        "    @page { margin: 0.79in }",
        "    p { margin-bottom: 0.1in; line-height: 120% }",
        "    h1 { margin-bottom: 0.08in; color: #004b67; }",
        "    h2 { color: #004b67; }",
        "    td p { margin-bottom: 0in }",
        "  </style>",
        "</head>",
        "<body lang=\"de-AT\" dir=\"ltr\">",
        "<h1>Radkummerkasten</h1>"
    ],
    "each": [
        "<h2>#{{ entry.id }} {{ entry.survey|dbApiGet('survey').name}}: {{ entry.address }} ({{ entry.postcode }} {{ entry.city }})</h2>",
        "<map style='width: 400px; height: 200px;' align='right' scale='300' options='{\"layer\":\"Basemap\",\"zoom\":17}'></map>",
        "<p>",
        "{{ entry.likes }} Unterstützung(en)<br/>",
        "{{ entry.comments|length}} Kommentar(e)<br/>",
        "Bezirk: {{ entry.bezirk }}",
        "<br/>",
        "Koordinaten: {{ entry.lat|number_format(5) }}, {{ entry.lng|number_format(5) }}",
        "</p>",
        "",
        "{% for comment in entry.comments %}",
        "<p>",
        "<i>{{ comment.firstname }} {{ comment.lastname }} schrieb am {{ comment.date }}:</i><br/>",
        "{{ comment.message|nl2br }}",
        "{% endfor %}",
        "",
        "{% set col=0 %}",
        "<table width=\"100%\" cellpadding=\"4\" cellspacing=\"0\" style=\"page-break-inside: avoid;\">",
        "  <col width=\"128*\">",
        "  <col width=\"128*\">",
        "{% for comment in entry.comments %}",
        "  {% for attachment in comment.attachments %}",
        "    {% if col == 0 %}",
        "      <tr valign=\"top\">",
        "    {% endif %}",
        "{% set col=col+1 %}",
        "        <td width=\"50%\">",
        "        <img class='attachment' src=\"{{ global.attachmentBaseUrl}}/{{ attachment.file }}\" max-width=\"314\" max-height=\"314\" /><br/>",
        "        Bereitgestellt von {{ comment.firstname }} {{ comment.lastname }} am {{ comment.date }}",
        "        </td>",
        "    {% if col == 2 %}",
        "      </tr>",
        "      {% set col=0 %}",
        "    {% endif %}",
        "  {% endfor %}",
        "{% endfor %}",
        "",
        "{% if col!=0 %}",
        "{% for col in col..1 %}",
        "  <td width=\"50%\">",
        "  </td>",
        "{% endfor %}",
        "</tr>",
        "{% endif %}",
        "",
        "</table>"
    ],
    "post": [
        "<hr/>",
        "<p>Dieses Dokument wurde mit Hilfe der <a href='https://github.com/plepe/radkummerkasten-tools'>radkummerkasten-tools</a> (<a target='_blank' id='version' href='https://github.com/plepe/radkummerkasten-tools/blob/master/CHANGELOG.md'>{{ version }}</a>) erstellt, die von <a href='mailto:skunk@xover.mud.at'>Stephan Bösch-Plepelits</a> entwickelt werden.",
        "Diese sind Open Source und werden auf Github entwickelt. Kommentare, Bug",
        "Reports und Erweiterungen sind herzlich willkommen.</p>",
        "</p>",
        "</body>",
        "</html>"
    ],
    "extensions": [
        {
            "type": "ImageExport"
        }
    ]
}
